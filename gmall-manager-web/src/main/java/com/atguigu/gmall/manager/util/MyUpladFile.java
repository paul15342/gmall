package com.atguigu.gmall.manager.util;import org.csource.common.MyException;import org.csource.fastdfs.ClientGlobal;import org.csource.fastdfs.StorageClient;import org.csource.fastdfs.TrackerClient;import org.csource.fastdfs.TrackerServer;import org.springframework.web.multipart.MultipartFile;import javax.sound.midi.Track;import java.io.IOException;public class MyUpladFile {    public static String uploadImg(MultipartFile file){        String urlImg = "http://192.168.152.167";        String path = MyUpladFile.class.getResource("/tracker.conf").getPath();        try {            ClientGlobal.init(path);        } catch (Exception e) {            e.printStackTrace();        }        TrackerClient trackerClient = new TrackerClient();        TrackerServer trackerServer = null;        try {            trackerServer = trackerClient.getConnection();        } catch (IOException e) {            e.printStackTrace();        }        String filename = file.getOriginalFilename();        String[] split = filename.split("\\.");        String ext = split[split.length - 1];        StorageClient storageClient = new StorageClient(trackerServer, null);        try {            String[] strings = storageClient.upload_file(file.getBytes(), ext, null);            for (String string : strings) {                urlImg = urlImg + "/" + string;            }        } catch (Exception e) {            e.printStackTrace();        }        return urlImg;    }}